var spentmoney=webpackJsonp_name_([2],{135:function(e,r,t){"use strict";function n(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}var o={RUB:{strCode:"RUB",eCurrencyCode:5,strSymbol:"pуб.",places:2,hideZeroth:!0,thousand:"",delimiter:",",bSymbolIsPrefix:!1,bWholeUnitsOnly:!0},EUR:{strCode:"EUR",eCurrencyCode:3,strSymbol:"€",places:2,hideZeroth:!1,thousand:" ",delimiter:",",bSymbolIsPrefix:!1,bWholeUnitsOnly:!1},GBP:{strCode:"GBP",eCurrencyCode:2,strSymbol:"£",places:2,hideZeroth:!1,thousand:",",delimiter:".",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1},BRL:{strCode:"BRL",eCurrencyCode:7,strSymbol:"R$",places:2,hideZeroth:!1,thousand:".",delimiter:",",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1},JPY:{strCode:"JPY",eCurrencyCode:8,strSymbol:"¥",places:0,hideZeroth:!1,thousand:",",delimiter:".",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0},NOK:{strCode:"NOK",eCurrencyCode:9,strSymbol:"kr",places:2,hideZeroth:!1,thousand:".",delimiter:",",bSymbolIsPrefix:!1,bWholeUnitsOnly:!1},CHF:{strCode:"CHF",eCurrencyCode:4,strSymbol:"CHF",places:2,hideZeroth:!1,thousand:"'",delimiter:".",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1},IDR:{strCode:"IDR",eCurrencyCode:10,strSymbol:"Rp",places:0,hideZeroth:!1,thousand:" ",delimiter:".",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0},MYR:{strCode:"MYR",eCurrencyCode:11,strSymbol:"RM",places:2,hideZeroth:!1,thousand:",",delimiter:".",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1},PHP:{strCode:"PHP",eCurrencyCode:12,strSymbol:"P",places:2,hideZeroth:!1,thousand:",",delimiter:".",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1},SGD:{strCode:"SGD",eCurrencyCode:13,strSymbol:"S$",places:2,hideZeroth:!1,thousand:",",delimiter:".",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1},THB:{strCode:"THB",eCurrencyCode:14,strSymbol:"฿",places:2,hideZeroth:!1,thousand:",",delimiter:".",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1},VND:{strCode:"VND",eCurrencyCode:15,strSymbol:"₫",places:2,hideZeroth:!1,thousand:",",delimiter:".",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0},KRW:{strCode:"KRW",eCurrencyCode:16,strSymbol:"₩",places:2,hideZeroth:!1,thousand:",",delimiter:".",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0},TRY:{strCode:"TRY",eCurrencyCode:17,strSymbol:"TL",places:2,hideZeroth:!1,thousand:"",delimiter:",",bSymbolIsPrefix:!1,bWholeUnitsOnly:!1},UAH:{strCode:"UAH",eCurrencyCode:18,strSymbol:"₴",places:2,hideZeroth:!1,thousand:"",delimiter:",",bSymbolIsPrefix:!1,bWholeUnitsOnly:!0},MXN:{strCode:"MXN",eCurrencyCode:19,strSymbol:"Mex$",places:2,hideZeroth:!1,thousand:",",delimiter:".",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1},CAD:{strCode:"CAD",eCurrencyCode:20,strSymbol:"CDN$",places:2,hideZeroth:!1,thousand:",",delimiter:".",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1},AUD:{strCode:"AUD",eCurrencyCode:21,strSymbol:"A$",places:2,hideZeroth:!1,thousand:",",delimiter:".",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1},NZD:{strCode:"NZD",eCurrencyCode:22,strSymbol:"NZ$",places:2,hideZeroth:!1,thousand:",",delimiter:".",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1},CNY:{strCode:"CNY",eCurrencyCode:23,strSymbol:"¥",places:2,hideZeroth:!1,thousand:",",delimiter:".",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0},INR:{strCode:"INR",eCurrencyCode:24,strSymbol:"₹",places:2,hideZeroth:!1,thousand:",",delimiter:".",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0},CLP:{strCode:"CLP",eCurrencyCode:25,strSymbol:"CLP$",places:2,hideZeroth:!0,thousand:".",delimiter:",",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0},PEN:{strCode:"PEN",eCurrencyCode:26,strSymbol:"S/.",places:2,hideZeroth:!1,thousand:",",delimiter:".",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1},COP:{strCode:"COP",eCurrencyCode:27,strSymbol:"COL$",places:2,hideZeroth:!1,thousand:".",delimiter:",",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0},ZAR:{strCode:"ZAR",eCurrencyCode:28,strSymbol:"R",places:2,hideZeroth:!1,thousand:",",delimiter:".",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1},HKD:{strCode:"HKD",eCurrencyCode:29,strSymbol:"HK$",places:2,hideZeroth:!1,thousand:",",delimiter:".",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1},TWD:{strCode:"TWD",eCurrencyCode:30,strSymbol:"NT$",places:2,hideZeroth:!1,thousand:",",delimiter:".",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0},SAR:{strCode:"SAR",eCurrencyCode:31,strSymbol:"SR",places:2,hideZeroth:!1,thousand:"",delimiter:".",bSymbolIsPrefix:!1,bWholeUnitsOnly:!1},AED:{strCode:"AED",eCurrencyCode:32,strSymbol:"AED",places:2,hideZeroth:!1,thousand:"",delimiter:".",bSymbolIsPrefix:!1,bWholeUnitsOnly:!1},USD:{strCode:"USD",eCurrencyCode:1,strSymbol:"$",places:2,hideZeroth:!1,thousand:",",delimiter:".",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1},PLN:{strCode:"PLN",eCurrencyCode:6,strSymbol:"zł",places:2,hideZeroth:!1,thousand:".",delimiter:",",bSymbolIsPrefix:!1,bWholeUnitsOnly:!1},RMB:{strCode:"RMB",eCurrencyCode:9e3,strSymbol:"刀币",bSymbolIsPrefix:!1,bWholeUnitsOnly:!0},NXP:{strCode:"NXP",eCurrencyCode:9001,strSymbol:"원",bSymbolIsPrefix:!1,bWholeUnitsOnly:!0}},s=function(){function e(){n(this,e)}return e.isCurrencySymbolBeforeValue=function(e){return o[e]&&o[e].bSymbolIsPrefix},e.isCurrencyWholeUnits=function(e){return o[e]&&o[e].bWholeUnitsOnly&&"RUB"!==e},e.getCurrencySymbolByCode=function(e){return o[e]?o[e].strSymbol:e+" "},e.getCurrencySymbolFromString=function(e){var r=e.match(/(?:R\$|S\$|\$|RM|kr|Rp|€|¥|£|฿|pуб\.|P|₫|₩|TL|₴|Mex\$|CDN\$|A\$|HK\$|NT\$|₹|SR|R |DH|CHF|CLP\$|S\/\.|COL\$|NZ\$)/);return r?r[0]:""},e.getCurrencyCodeFromDOM=function(){var e=document.querySelector('meta[itemprop="priceCurrency"]');return e&&e.hasAttribute("content")?e.getAttribute("content"):null},e.getCurrencyCodeBySymbol=function(e){return Object.keys(o).find(function(r){return o[r].strSymbol===e})||""},e.getCurrencyCodeById=function(e){return Object.keys(o).find(function(r){return o[r].eCurrencyCode===e})||"Unknown"},e.parsePrice=function(r){var t=e.getCurrencySymbolFromString(r),n=e.getCurrencyCodeFromDOM()||e.getCurrencyCodeBySymbol(t),s=o[n],a=s.eCurrencyCode,c=parseFloat(r.replace(s.thousand,"").replace(s.delimiter,".").replace(/[^\d.]/g,"").trim());return isNaN(c)?null:{value:100*c,currencyCode:n,currencySign:t,currencyNumber:a}},e.vCurrencyFormat=function(r,t,n){var o=(r/100).toFixed(2);switch(t){case"EUR":return(""+o+e.getCurrencySymbolByCode(t)).replace(".",",").replace(",00",",--");case"GBP":return""+e.getCurrencySymbolByCode(t)+o;case"USD":return void 0!==n&&"US"!==n?""+e.getCurrencySymbolByCode(t)+o+" USD":""+e.getCurrencySymbolByCode(t)+o;case"RUB":return o.replace(".",",").replace(",00","")+" "+e.getCurrencySymbolByCode(t);case"JPY":return e.getCurrencySymbolByCode(t)+" "+o.replace(".00","");case"BRL":case"COP":return e.getCurrencySymbolByCode(t)+" "+o.replace(".",",");case"CLP":return e.getCurrencySymbolByCode(t)+" "+o.replace(".00","").replace(".",",");case"NOK":case"PLN":return o.replace(".",",")+" "+e.getCurrencySymbolByCode(t);case"SAR":case"AED":case"CHF":return o+" "+e.getCurrencySymbolByCode(t);case"IDR":return e.getCurrencySymbolByCode(t)+" "+o;case"MYR":case"PHP":case"SGD":case"THB":case"CNY":case"INR":case"ZAR":return""+e.getCurrencySymbolByCode(t)+o;case"KRW":case"VND":return""+e.getCurrencySymbolByCode(t)+o.replace(".00","");case"MXN":case"CAD":case"AUD":case"NZD":case"PEN":case"HKD":case"TWD":return e.getCurrencySymbolByCode(t)+" "+o;default:return o+" "+t}},e.getCurrencyFormat=function(r,t){var n=o[t||e.getCurrencyCodeFromDOM()];n.hideZeroth&&r%1==0&&(n.places=0);var s=r<0?"-":"",a=""+parseInt(Math.abs(+r||0).toFixed(n.places),10),c=a.length>3?a.length%3:0,i=""+s+(c?a.substr(0,c)+n.thousand:"")+a.substr(c).replace(/(\d{3})(?=\d)/g,"$1"+n.thousand)+(n.places?n.delimiter+Math.abs(r-a).toFixed(n.places).slice(2):"");return n.left?n.sign+" "+i:i+" "+n.sign},e}();r.a=s},136:function(e,r,t){"use strict";function n(e){return function(){var r=e.apply(this,arguments);return new Promise(function(e,t){function n(o,s){try{var a=r[o](s),c=a.value}catch(e){return void t(e)}if(!a.done)return Promise.resolve(c).then(function(e){n("next",e)},function(e){n("throw",e)});e(c)}return n("next")})}}function o(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}var s=t(53),a=t(44),c={},i=function(){function e(){o(this,e)}return e.load=function(){function e(e){return r.apply(this,arguments)}var r=n(regeneratorRuntime.mark(function e(r){var t,n,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.a.get({currency_rates:{}});case 2:if(t=e.sent,Object.assign(c,t.currency_rates),void 0!==r){e.next=10;break}return e.next=7,s.a.getWalletCurrency();case 7:e.t0=e.sent,e.next=11;break;case 10:e.t0=r;case 11:if(n=e.t0,c[r]&&!(Date.now()-c[r].ts>144e5)){e.next=17;break}return e.next=15,s.a.sendRequest({method:"GET",url:s.b+"/rates",data:{base:n}});case 15:o=e.sent,o.success&&(c[o.data.base]={rates:o.data.rates,ts:Date.now()},a.a.set({currency_rates:c}));case 17:case"end":return e.stop()}},e,this)}));return e}(),e.convert=function(e,r,t){return c[t]?e/c[t].rates[r]:c[r]?e*c[r].rates[t]:null},e}();r.a=i},354:function(e,r,t){"use strict";function n(e){return function(){var r=e.apply(this,arguments);return new Promise(function(e,t){function n(o,s){try{var a=r[o](s),c=a.value}catch(e){return void t(e)}if(!a.done)return Promise.resolve(c).then(function(e){n("next",e)},function(e){n("throw",e)});e(c)}return n("next")})}}function o(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function s(e,r){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!r||"object"!=typeof r&&"function"!=typeof r?e:r}function a(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function, not "+typeof r);e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(e,r):e.__proto__=r)}Object.defineProperty(r,"__esModule",{value:!0});var c=t(33),i=t.n(c),l=t(70),u=t(53),d=t(135),y=t(136),h=0,C=0,b=0,m=0,p=function(e){function r(){return o(this,r),s(this,e.apply(this,arguments))}return a(r,e),r.prototype.onLoad=function(){function e(){return r.apply(this,arguments)}var r=n(regeneratorRuntime.mark(function e(){var r,t,n,o,s,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i()(".account_setting_block:first .account_setting_sub_block:last").after('<div id="total_expenses" class="account_setting_sub_block">loading ...</div>'),e.next=3,u.a.getWalletCurrency();case 3:return this.userCurrency=e.sent,r=u.a.getSessionID(),e.next=7,y.a.load(this.userCurrency);case 7:t=null,n={l:"en",sessionid:r};case 9:return t&&(n.cursor=t),e.next=12,u.a.sendRequest({method:"GET",url:"//store.steampowered.com/account/AjaxLoadMoreHistory/",data:n});case 12:o=e.sent,t=this.calcSpentMoney(o);case 14:if(t){e.next=9;break}case 15:s=h+C+b+m,a="",h&&(a+='\n        <div class="accountRow accountBalance">\n          <div data-tooltip-content="Click to view purchase &amp; wallet history" class="accountData price">\n            <a href="http://store.steampowered.com/account/history/">'+d.a.vCurrencyFormat(h,this.userCurrency)+'</a>\n          </div>\n          <div class="accountLabel">Store Purchases:</div>\n        </div>'),C&&(a+='\n        <div class="accountRow accountBalance">\n          <div data-tooltip-content="Click to view purchase &amp; wallet history" class="accountData price">\n            <a href="http://store.steampowered.com/account/history/">'+d.a.vCurrencyFormat(C,this.userCurrency)+'</a>\n          </div>\n          <div class="accountLabel">Market Transactions:</div>\n        </div>'),b&&(a+='\n        <div class="accountRow accountBalance">\n          <div data-tooltip-content="Click to view purchase &amp; wallet history" class="accountData price">\n            <a href="http://store.steampowered.com/account/history/">'+d.a.vCurrencyFormat(b,this.userCurrency)+'</a>\n          </div>\n          <div class="accountLabel">Gift Purchases:</div>\n        </div>'),m&&(a+='\n        <div class="accountRow accountBalance">\n          <div data-tooltip-content="Click to view purchase &amp; wallet history" class="accountData price">\n            <a href="http://store.steampowered.com/account/history/">'+d.a.vCurrencyFormat(m,this.userCurrency)+'</a>\n          </div>\n          <div class="accountLabel">In-Game Purchases:</div>\n        </div>'),s&&(a+='\n        <div class="inner_rule"></div>\n        <div class="accountRow accountBalance">\n          <div data-tooltip-content="Click to view purchase &amp; wallet history" class="accountData price">\n            <a href="http://store.steampowered.com/account/history/">'+d.a.vCurrencyFormat(s,this.userCurrency)+'</a>\n          </div>\n          <div class="accountLabel">Total Spent:</div>\n        </div>'),i()("#total_expenses").html(a);case 23:case"end":return e.stop()}},e,this)}));return e}(),r.prototype.calcSpentMoney=function(e){var r=this,t=i.a.parseHTML(e.html);return i.a.each(t,function(e,t){var n=i()(t).find(".wht_type div:first").text().trim(),o=i()(t).find(".wht_total").text().trim(),s=i()(t).find(".wht_items").text().trim();if(o&&!o.match("Credit")&&n&&!s.match("Wallet Credit")){var a=d.a.parsePrice(o),c=void 0;c=a.currencyCode!==r.userCurrency?y.a.convert(a.value,a.currencyCode,r.userCurrency):a.value,n.match(/^Purchase/)&&(h+=c),n.match("Market Transaction")&&(C+=c),n.match("Gift Purchase")&&(b+=c),n.match("In-Game Purchase")&&(m+=c)}}),e.cursor},r}(l.a);r.default=new p},407:function(e,r,t){t(27),e.exports=t(354)}},[407]);